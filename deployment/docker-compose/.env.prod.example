# ============================================================================
# Core Application Configuration
# ============================================================================
APP_NAME="CML Cloud Manager"
DEBUG=true
LOG_LEVEL=DEBUG
PUBLIC_STACK_URL=http://www.system.io
IMAGE_REPO=ghcr.io/bvandewe/cml-cloud-manager
IMAGE_TAG=v0.1.5

# ============================================================================
# Security & Authentication
# ============================================================================

# Keycloak
KEYCLOAK_REALM=cml-cloud-manager
KEYCLOAK_CLIENT_ID=cml-cloud-manager-public
KEYCLOAK_ADMIN_USERNAME=admin
KEYCLOAK_ADMIN_PASSWORD=admin  # pragma: allowlist secret
KEYCLOAK_REALM_IMPORT_FILE=cml-cloud-manager-realm-export.json.local

# Token Validation
VERIFY_ISSUER=true
EXPECTED_ISSUER=http://www.system.io/auth/realms/cml-cloud-manager
VERIFY_AUDIENCE=true
EXPECTED_AUDIENCE=["cml-cloud-manager"]
REFRESH_AUTO_LEEWAY_SECONDS=60

# Session
SESSION_MAX_DURATION_MINUTES=30

# ============================================================================
# Database & Persistence
# ============================================================================
# MongoDB
MONGODB_ROOT_USERNAME=root
MONGODB_ROOT_PASSWORD=password   # pragma: allowlist secret
MONGODB_DATABASE=cml_cloud_manager

# Redis
REDIS_ENABLED=true
REDIS_KEY_PREFIX=session:

# ============================================================================
# AWS & CML Worker Configuration
# ============================================================================
AWS_ACCESS_KEY_ID=AKIA...
AWS_SECRET_ACCESS_KEY=R5q...

CML_WORKER_AMI_NAME_DEFAULT=cisco-cml2.9-lablet-v0.1.7
CML_WORKER_INSTANCE_TYPE_DEFAULT=m5zn.metal
CML_WORKER_SECURITY_GROUP_IDS=["sg-1234567890abcdef0"]
CML_WORKER_SUBNET_ID=subnet-1f1234567
CML_WORKER_KEY_NAME=cml-key-name
CML_WORKER_USERNAME=sysadmin
CML_WORKER_API_USERNAME=admin
CML_WORKER_API_PASSWORD=password  # pragma: allowlist secret
USE_PRIVATE_IP_FOR_MONITORING=true

# ============================================================================
# Monitoring & Background Jobs
# ============================================================================
WORKER_METRICS_POLL_INTERVAL=180
LABS_REFRESH_INTERVAL=300

AUTO_IMPORT_WORKERS_ENABLED=true
AUTO_IMPORT_WORKERS_INTERVAL=60
AUTO_IMPORT_WORKERS_REGION=us-east-1
AUTO_IMPORT_WORKERS_AMI_NAME=my-default-ami-name-v0.1.0

# ============================================================================
# Infrastructure Services
# ============================================================================
DOCKER_NETWORK_NAME=cml-cloud-manager-net

# Nginx
NGINX_IMAGE=nginx:1.25-alpine
NGINX_PORT=80
NGINX_SSL_PORT=443
NGINX_CONF_FILE=cml-cloud-manager.conf.local

# Service Images
MONGODB_IMAGE=mongo:6.0.21
MONGO_EXPRESS_IMAGE=mongo-express:latest
REDIS_IMAGE=redis:7.4-alpine
KEYCLOAK_IMAGE=quay.io/keycloak/keycloak:26.0.0
EVENT_PLAYER_IMAGE=ghcr.io/bvandewe/events-player:v0.4.11
OTEL_COLLECTOR_IMAGE=otel/opentelemetry-collector-contrib:0.110.0
GRAFANA_IMAGE=grafana/grafana-enterprise:12.2.1
TEMPO_IMAGE=grafana/tempo:2.9.0
PROMETHEUS_IMAGE=prom/prometheus:v2.55.1
LOKI_IMAGE=grafana/loki:3.2.0

# Grafana
GRAFANA_ADMIN_PASSWORD=password  # pragma: allowlist secret
GRAFANA_CLIENT_SECRET=client-secret-placeholder  # pragma: allowlist secret
