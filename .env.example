# ============================================================================
# Core Application Configuration
# ============================================================================
APP_NAME="CML Cloud Manager"
ENVIRONMENT=development
DEBUG=true
LOG_LEVEL=DEBUG
APP_HOST=127.0.0.1
APP_PORT=8030
APP_URL=http://localhost:8030
IMAGE_TAG=latest

# ============================================================================
# Security & Authentication
# ============================================================================
ENABLE_CORS=true
CORS_ORIGINS=["http://localhost:8020","http://localhost:3000"]

# Keycloak
KEYCLOAK_URL=http://localhost:8031
KEYCLOAK_REALM=cml-cloud-manager
KEYCLOAK_CLIENT_ID=cml-cloud-manager-public
KEYCLOAK_ADMIN_USERNAME=admin
KEYCLOAK_ADMIN_PASSWORD=admin # pragma: allowlist secret
KEYCLOAK_PORT=8031

# Token Validation
VERIFY_ISSUER=true
EXPECTED_ISSUER="http://localhost:8031/realms/cml-cloud-manager"
VERIFY_AUDIENCE=true
EXPECTED_AUDIENCE=["cml-cloud-manager"]
REFRESH_AUTO_LEEWAY_SECONDS=60

# Session
SESSION_MAX_DURATION_MINUTES=15
SESSION_EXPIRATION_WARNING_MINUTES=10

# ============================================================================
# Database & Persistence
# ============================================================================
# MongoDB
MONGODB_PORT=8032
MONGODB_ROOT_USERNAME=root
MONGODB_ROOT_PASSWORD=password123 # pragma: allowlist secret
MONGODB_DATABASE=cml_cloud_manager
MONGODB_EXPRESS_PORT=8033

# Redis
REDIS_ENABLED=true

# ============================================================================
# AWS & CML Worker Configuration
# ============================================================================
# AWS Credentials - REQUIRED for worker management
AWS_ACCESS_KEY_ID=your-aws-access-key-id # pragma: allowlist secret
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key # pragma: allowlist secret

CML_WORKER_AMI_NAME_DEFAULT=cisco-cml2.9-lablet-v0.1.7
CML_WORKER_INSTANCE_TYPE_DEFAULT=m5zn.metal
CML_WORKER_SECURITY_GROUP_IDS=["sg-xxxxxxxxxxxxxxxxx"]
CML_WORKER_SUBNET_ID=subnet-xxxxxxxx
CML_WORKER_KEY_NAME=your-key-pair-name
CML_WORKER_USERNAME=sysadmin
CML_WORKER_API_USERNAME=admin
CML_WORKER_API_PASSWORD=your-cml-password # pragma: allowlist secret
CML_WORKER_AMI_IDS={"us-east-1":"ami-xxxxxxxxxxxxxxxxx"}

# ============================================================================
# Monitoring & Background Jobs
# ============================================================================
WORKER_MONITORING_ENABLED=true
WORKER_METRICS_POLL_INTERVAL=180
LABS_REFRESH_INTERVAL=300

AUTO_IMPORT_WORKERS_ENABLED=true
AUTO_IMPORT_WORKERS_INTERVAL=60
AUTO_IMPORT_WORKERS_REGION=us-east-1
AUTO_IMPORT_WORKERS_AMI_NAME=cisco-cml2.9-lablet-v0.1.*

# ============================================================================
# Observability
# ============================================================================
OTEL_COLLECTOR_GRPC_PORT=4337
OTEL_COLLECTOR_HTTP_PORT=4338
OTEL_COLLECTOR_METRICS_PORT=8838
OTEL_COLLECTOR_HEALTH_PORT=13333

# ============================================================================
# Infrastructure
# ============================================================================
DOCKER_NETWORK_NAME=cml-cloud-manager-net
EVENT_PLAYER_PORT=8034

# ============================================================================
# Documentation Settings
# ============================================================================
DOCS_SITE_NAME="CML Cloud Manager"
DOCS_SITE_URL="https://bvandewe.github.io/cml-cloud-manager/"
DOCS_FOLDER=./docs
DOCS_DEV_PORT=8000
PYTHONPATH=./src
